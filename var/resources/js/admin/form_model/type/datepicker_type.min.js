(function(){Vue.directive('datepicker',{twoWay:true,params:['format','firstday','locale'],bind:function(){var el=this.el,$el=$(el),vm=this.vm,model=this.expression,format=this.params.format,defaultDate=$el.val(),locale=this.params.locale,formatDefaultLocaleDate=function(format,date){var formattedDate=$.datepicker.formatDate(format,new Date(date),{dayNamesShort:$.datepicker.regional[''].dayNamesShort,dayNames:$.datepicker.regional[''].dayNames,monthNamesShort:$.datepicker.regional[''].monthNamesShort,monthNames:$.datepicker.regional[''].monthNames});return formattedDate},changeHiddenValue=function($el){$($el).siblings('.datepicker-value-input').val(formatDefaultLocaleDate($($el).datepicker('option','dateFormat'),$($el).datepicker('getDate')))};$.datepicker.setDefaults($.datepicker.regional['']);if($.datepicker.regional[locale]!==undefined){$.datepicker.setDefaults($.datepicker.regional[locale]);if(defaultDate!==undefined&&defaultDate!=='')defaultDate=$.datepicker.formatDate(format,new Date(defaultDate))};$el.datepicker({dateFormat:format,defaultDate:defaultDate,firstDay:parseInt(this.params.firstday),onSelect:function(date){changeHiddenValue(this);vm.$set(model,''+$(this).datepicker('getDate'));vm.$validate(true)}});$el.change(function(){changeHiddenValue(this);vm.$set(model,''+$(this).datepicker('getDate'));vm.$validate(true)});$el.blur(function(){var result=null;try{result=$.datepicker.parseDate(format,$el.val())}catch(err){result=false};if(!result){$el.datepicker('setDate',defaultDate);$el.datepicker('refresh');changeHiddenValue($el)}});$el.datepicker('setDate',defaultDate);$el.datepicker('refresh');changeHiddenValue($el)}})})()